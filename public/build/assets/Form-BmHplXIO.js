import{k as c,s as M,o as w,c as h,d as o,t as x,u as t,r as $,a,F as k,x as B,T as I,w as n,Z as L,b as R,n as S,f as A,i as E,y as O}from"./app-DlaBq_N6.js";import{_ as T,a as N}from"./AuthenticatedLayout-QYSJWGRR.js";import{_ as G}from"./DarkButton-iWQZTeL3.js";import{_ as F}from"./PrimaryButton-sDW9TYCi.js";import{_ as C}from"./InputError-dxKEN8n0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"block text-sm"},D={class:"text-gray-700 dark:text-gray-400"},P={class:"relative text-gray-500 focus-within:text-gray-700 gray:focus-within:text-gray-700"},Z=["value","type","required","placeholder","accept","pattern"],H={class:"absolute inset-y-0 flex items-center ml-2 pointer-events-none"},d={__name:"InputGroup",props:["textLabel","text","placeholder","accept","required","type","modelValue","errors","disabledInput","pattern"],emits:["update:modelValue"],setup(i){const r=i,e=r.textLabel==null?"":r.textLabel,v=r.disabledInput!=null,u=c(null);return M(()=>{u.value.hasAttribute("autofocus")&&u.value.focus()}),(m,f)=>(w(),h(k,null,[o("label",q,[o("span",D,x(t(e)),1),o("div",P,[o("input",{class:"block w-full pl-10 mt-1 text-sm cols-1 text-dark dark:text-dark-100 gray:border-gray-700 dark:bg-gray-50 focus:border-gray-700 focus:outline-none focus:shadow-outline-gray gray:focus:shadow-outline-gray form-input rounded-md",value:i.modelValue,type:i.type,required:i.required,placeholder:i.placeholder,accept:i.accept,disabled:v,pattern:i.pattern,onInput:f[0]||(f[0]=g=>m.$emit("update:modelValue",g.target.value)),ref_key:"input",ref:u},null,40,Z),o("div",H,[$(m.$slots,"default")])])]),a(C,{class:"mt-1",message:i.errors},null,8,["message"])],64))}},J={class:"block text-sm"},K={class:"text-gray-700 dark:text-gray-400"},Q={class:"relative text-gray-500 focus-within:text-gray-700 gray:focus-within:text-gray-700"},W=["value"],X=["selected"],Y=["value"],ee={class:"absolute inset-y-0 flex items-center ml-2 pointer-events-none"},b={__name:"SelectGroup",props:["textLabel","opciones","modelValue","isLegend","errors"],emits:["update:modelValue"],setup(i){const r=i,e=r.textLabel==null?"":r.textLabel,v=r.isLegend!=null,u=c(null);return M(()=>{u.value.hasAttribute("autofocus")&&u.value.focus(),v||(u.selected=!0)}),(m,f)=>(w(),h(k,null,[o("label",J,[o("span",K,x(t(e)),1),o("div",Q,[o("select",{class:"block w-full pl-10 mt-1 text-sm cols-1 text-dark dark:text-dark-100 gray:border-gray-700 dark:bg-gray-50 focus:border-gray-700 focus:outline-none focus:shadow-outline-gray gray:focus:shadow-outline-gray form-input rounded-md",value:i.modelValue,onInput:f[0]||(f[0]=g=>m.$emit("update:modelValue",g.target.value)),ref_key:"input",ref:u},[o("option",{value:"-1",selected:m.selected},"Selecciona una opción",8,X),(w(!0),h(k,null,B(i.opciones,g=>(w(),h("option",{value:g.id},x(g.text),9,Y))),256))],40,W),o("div",ee,[$(m.$slots,"default")])])]),a(C,{class:"mt-1",message:i.errors},null,8,["message"])],64))}},oe={class:"inline-flex overflow-hidden mb-4 w-full"},te=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205 3 1m1.5.5-1.5-.5M6.75 7.364V3h-3v18m3-13.636 10.5-3.819"})],-1),re={class:"text-sm text-gray-600"},se={class:"grid gap-6 bg-white mb-8 md:grid-cols-2 border rounded-lg"},le={class:"min-w-0 p-4 rounded-lg shadow-xs"},ae=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5-3.9 19.5m-2.1-19.5-3.9 19.5"})],-1),ne=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205 3 1m1.5.5-1.5-.5M6.75 7.364V3h-3v18m3-13.636 10.5-3.819"})],-1),ie=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})],-1),ue=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})],-1),de=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"})],-1),ce=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),me=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),ge=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),pe=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),fe=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"})],-1),ve=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"})],-1),we=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),he=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),xe=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),ke=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),_e={class:"min-w-0 p-4 rounded-lg shadow-xs"},Ve=["src"],Ue={__name:"Form",props:{Refugio:{type:Object},Rutas:{type:Object},Ruta:{type:String}},setup(i){const r=i,e=I({id:0,numero:1,refugio:"",ubicacion:"",ubicacion_google:"",enlace:"",telefonos:"",observaciones:"",latitud:"",longitud:"",html:"",infraestructura:"",activado:"0",poligono:"",categoria:"REFUGIO",capacidad:0,imagen:"",refugiorutaid:-1}),v=c([]),u=c([]),m=c([]);r.Rutas.map(p=>v.value.push({id:p.id,text:p.ruta})),u.value.push({id:"REFUGIO",text:"REFUGIO"}),u.value.push({id:"CENTRO DE ACOPIO",text:"CENTRO DE ACOPIO"}),m.value.push({id:1,text:"SI"}),m.value.push({id:0,text:"NO"});const f=c(r.Refugio==null?"Nuevo Refugio":"Editando el refugio"),g=c("../storage/externo/1.gif"),_=c(""),V=c("hidden"),U=c("/^(+|-)?(?:90(?:(?:.0{1,6})?)|(?:[0-9]|[1-8][0-9])(?:(?:.[0-9]{1,6})?))$/"),j=c("/^(+|-)?(?:180(?:(?:.0{1,6})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:.[0-9]{1,6})?))$/"),z=()=>{r.Refugio==null?e.post(route("refugio.save"),{onSuccess:()=>{y("Refugio creado con éxito")},onError:p=>{console.log(p),e.errors=p}}):e.put(route("refugio.update"),{onSuccess:()=>{y("Refugio actualizado con éxito")},onError:()=>{console.log(data.toString)}})},y=p=>{e.reset(),_.value=p,V.value="block",setTimeout(()=>{V.value="hidden",_.value=""},800)};return r.Refugio!=="undefined"&&r.Refugio!=null&&(e.id=r.Refugio.id,e.numero=r.Refugio.numero,e.refugio=r.Refugio.refugio,e.ubicacion=r.Refugio.ubicacion,e.ubicacion_google=r.Refugio.ubicacion_google,e.enlace=r.Refugio.enlace,e.telefonos=r.Refugio.telefonos,e.observaciones=r.Refugio.observaciones,e.latitud=r.Refugio.latitud,e.longitud=r.Refugio.longitud,e.html=r.Refugio.html,e.infraestructura=r.Refugio.infraestructura,e.activado=r.Refugio.activado,e.poligono=r.Refugio.poligono,e.categoria=r.Refugio.categoria,e.capacidad=r.Refugio.capacidad,e.imagen=r.Refugio.imagen,e.refugiorutaid=r.Refugio.refugiorutaid,g.value="../storage/externo/"+r.Refugio.imagen),(p,s)=>(w(),h(k,null,[a(t(L),{title:"Editar"}),a(T,null,{header:n(()=>[o("div",oe,[R(x(f.value)+" ",1),a(N,{href:p.route("refugios.index")},{default:n(()=>[a(G,{title:"Listado de Refugios"},{default:n(()=>[te]),_:1})]),_:1},8,["href"])]),o("div",{class:S(["alert alert-success",V.value])},[o("p",re,"... "+x(_.value),1)],2)]),default:n(()=>[o("div",se,[o("div",le,[o("form",{class:"form-horizontal",onSubmit:A(z,["prevent"])},[a(d,{modelValue:t(e).numero,"onUpdate:modelValue":s[0]||(s[0]=l=>t(e).numero=l),modelModifiers:{number:!0},placeholder:"Número",errors:t(e).errors.numero,class:"em9 rounded-lg",type:"number"},{default:n(()=>[ae]),_:1},8,["modelValue","errors"]),a(d,{modelValue:t(e).refugio,"onUpdate:modelValue":s[1]||(s[1]=l=>t(e).refugio=l),errors:t(e).errors.refugio,placeholder:"Refugio",type:"text"},{default:n(()=>[ne]),_:1},8,["modelValue","errors"]),a(d,{modelValue:t(e).ubicacion,"onUpdate:modelValue":s[2]||(s[2]=l=>t(e).ubicacion=l),placeholder:"Ubicación",type:"text",errors:t(e).errors.ubicacion},{default:n(()=>[ie]),_:1},8,["modelValue","errors"]),a(d,{modelValue:t(e).ubicacion_google,"onUpdate:modelValue":s[3]||(s[3]=l=>t(e).ubicacion_google=l),errors:t(e).errors.ubicacion_google,placeholder:"Ubicación Google",type:"text",disabledInput:"disabled"},{default:n(()=>[ue]),_:1},8,["modelValue","errors"]),a(b,{opciones:v.value,modelValue:t(e).refugiorutaid,"onUpdate:modelValue":s[4]||(s[4]=l=>t(e).refugiorutaid=l),errors:t(e).errors.refugiorutaid},{default:n(()=>[de]),_:1},8,["opciones","modelValue","errors"]),a(d,{modelValue:t(e).infraestructura,"onUpdate:modelValue":s[5]||(s[5]=l=>t(e).infraestructura=l),errors:t(e).errors.infraestructura,placeholder:"Infraestructura",type:"text"},{default:n(()=>[ce]),_:1},8,["modelValue","errors"]),a(d,{modelValue:t(e).capacidad,"onUpdate:modelValue":s[6]||(s[6]=l=>t(e).capacidad=l),errors:t(e).errors.capacidad,placeholder:"Capacidad",type:"text"},{default:n(()=>[me]),_:1},8,["modelValue","errors"]),a(d,{modelValue:t(e).enlace,"onUpdate:modelValue":s[7]||(s[7]=l=>t(e).enlace=l),errors:t(e).errors.enlace,placeholder:"Enlace",type:"text"},{default:n(()=>[ge]),_:1},8,["modelValue","errors"]),a(d,{modelValue:t(e).telefonos,"onUpdate:modelValue":s[8]||(s[8]=l=>t(e).telefonos=l),errors:t(e).errors.telefonos,placeholder:"Teléfonos",type:"text"},{default:n(()=>[pe]),_:1},8,["modelValue","errors"]),a(b,{opciones:u.value,modelValue:t(e).categoria,"onUpdate:modelValue":s[9]||(s[9]=l=>t(e).categoria=l),errors:t(e).errors.categoria},{default:n(()=>[fe]),_:1},8,["opciones","modelValue","errors"]),a(b,{opciones:m.value,modelValue:t(e).activado,"onUpdate:modelValue":s[10]||(s[10]=l=>t(e).activado=l),errors:t(e).errors.activado},{default:n(()=>[ve]),_:1},8,["opciones","modelValue","errors"]),a(d,{modelValue:t(e).observaciones,"onUpdate:modelValue":s[11]||(s[11]=l=>t(e).observaciones=l),errors:t(e).errors.observaciones,placeholder:"Observaciones",type:"text"},{default:n(()=>[we]),_:1},8,["modelValue","errors"]),a(d,{modelValue:t(e).latitud,"onUpdate:modelValue":s[12]||(s[12]=l=>t(e).latitud=l),errors:t(e).errors.latitud,placeholder:"Latitud",type:"text",pattern:U.value},{default:n(()=>[he]),_:1},8,["modelValue","errors","pattern"]),a(d,{modelValue:t(e).longitud,"onUpdate:modelValue":s[13]||(s[13]=l=>t(e).longitud=l),errors:t(e).errors.longitud,placeholder:"Longitud",type:"text",pattern:j.value},{default:n(()=>[xe]),_:1},8,["modelValue","errors","pattern"]),a(d,{modelValue:t(e).poligono,"onUpdate:modelValue":s[14]||(s[14]=l=>t(e).poligono=l),errors:t(e).errors.poligono,placeholder:"Polígono",type:"text"},{default:n(()=>[ke]),_:1},8,["modelValue","errors"]),E(o("input",{type:"hidden","onUpdate:modelValue":s[15]||(s[15]=l=>t(e).id=l),value:"{{form.id}}"},null,512),[[O,t(e).id]]),a(F,{class:"mt-4 float-right"},{default:n(()=>[R(" Guardar ")]),_:1})],32)]),o("div",_e,[o("img",{src:g.value},null,8,Ve)])])]),_:1})],64))}};export{Ue as default};
