import{_ as V,a as j}from"./AuthenticatedLayout-BaPYeG7e.js";import{s as z,T as O,k as i,m as P,c as H,a as t,u as g,w as s,F as U,o as F,Z as X,b as u,t as k,d as e,r as c,n as G,x as Q}from"./app-CQFRW4hv.js";import{_ as q,a as J}from"./Modal-DPh_Py_A.js";import{_ as f}from"./PrimaryButton-BT3PG67M.js";import{_ as K}from"./AlertSuccess-CInzKW5_.js";import{_ as W}from"./AceptarButton-DCmygHPx.js";import{P as x,D as Z}from"./dataTables.responsive-KCUJC-Uu.js";import"./buttons.html5-CdvfnhLN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"p-4 bg-white rounded-lg shadow-xs"},ee={class:"inline-flex overflow-hidden mb-4 w-full bg-white rounded-lg shadow-md"},oe=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z","clip-rule":"evenodd"})],-1),te=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[e("path",{"fill-rule":"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 18.375V5.625ZM21 9.375A.375.375 0 0 0 20.625 9h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5ZM10.875 18.75a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5ZM3.375 15h7.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375Zm0-3.75h7.5a.375.375 0 0 0 .375-.375v-1.5A.375.375 0 0 0 10.875 9h-7.5A.375.375 0 0 0 3 9.375v1.5c0 .207.168.375.375.375Z","clip-rule":"evenodd"})],-1),se=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[e("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),e("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})],-1),ae=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM6.262 6.072a8.25 8.25 0 1 0 10.562-.766 4.5 4.5 0 0 1-1.318 1.357L14.25 7.5l.165.33a.809.809 0 0 1-1.086 1.085l-.604-.302a1.125 1.125 0 0 0-1.298.21l-.132.131c-.439.44-.439 1.152 0 1.591l.296.296c.256.257.622.374.98.314l1.17-.195c.323-.054.654.036.905.245l1.33 1.108c.32.267.46.694.358 1.1a8.7 8.7 0 0 1-2.288 4.04l-.723.724a1.125 1.125 0 0 1-1.298.21l-.153-.076a1.125 1.125 0 0 1-.622-1.006v-1.089c0-.298-.119-.585-.33-.796l-1.347-1.347a1.125 1.125 0 0 1-.21-1.298L9.75 12l-1.64-1.64a6 6 0 0 1-1.676-3.257l-.172-1.03Z","clip-rule":"evenodd"})],-1),le=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})],-1),ie=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[e("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})],-1),ne={class:"overflow-hidden mb-8 w-full rounded-lg border shadow-xs"},re={class:"overflow-x-auto w-full"},de=e("thead",null,[e("tr",{class:"text-xs font-bold tracking-wide text-left text-blue-500 uppercase bg-gray-300 border-b"},[e("th",{class:"px-4 py-3"},"ID"),e("th",{class:"px-4 py-3"},"Número"),e("th",{class:"px-4 py-3"},"Refugio"),e("th",{class:"px-4 py-3"},"Ubicación"),e("th",{class:"px-4 py-3"},"Infraestructra"),e("th",{class:"px-4 py-3"},"Capacidad"),e("th",{class:"px-4 py-3"},"Enlace"),e("th",{class:"px-4 py-3"},"Teléfonos"),e("th",{class:"px-4 py-3"},"Activado")])],-1),ue={class:"p-6"},ce={class:"text-2x1 font-medium text-red-600"},fe={class:"m-6 flex justify-end"},ye={__name:"IndexRefugios",props:{Refugios:{type:Object},flash:{type:Object}},setup(B){z(),x.use(Z),x.use(Z);const r=B,R=[{data:"id",title:"ID"},{data:"numero",title:"#"},{data:"refugio",title:"REFUGIO"},{data:"ubicacion",title:"UBICACION"},{data:"infraestructura",title:"INFRAESTRUCTURA"},{data:"capacidad",title:"CAPACIDAD"},{data:"enlace",title:"ENLACE"},{data:"telefonos",title:"TELÉFONOS"},{data:"activado",title:"Activo",render:o=>o===!0?"Si":"No"}];let E={dom:"lftipr",language:{url:"https://cdn.datatables.net/plug-ins/1.13.6/i18n/es-MX.json"},buttons:["csv","excel","pdf","print"],responsive:!0,select:!0,processing:!0,paging:!0,lengthMenu:[[10,25,50,75,100,-1],["10","25","50","75","100","Todos"]],displayLength:50,order:[[1,"asc"]]};const d=O({id:"",refugio:"",ubicacion:"",ubicacion_google:"",enlace:"",telefonos:"",observaciones:"",latitud:"",longitud:"",html:"",infraestructura:"",activado:"",poligono:"",categoria:"",capacidad:"",imagen:"",refugiorutaid:""}),h=i(!1),m=i(!1),w=i(!1),$=i(r.Refugios.length>0),p=i(r.flash.success!=null?r.flash.success:""),_=i(r.flash.success!=null?"":"hidden"),a=i([]),y=i();let M;const n=i(0);r.Refugios.map(function(o,l){a.value.push(o)}),P(function(){M=y.value.dt});const A=o=>{d.id=o.id,d.numero=o.numero,d.refugio=o.refugio,h.value=!0},b=()=>{h.value=!1},S=()=>{console.log("Eliminar refugio",n),d.id=n.value,d.post(route("refugio.destroy",d.id),{onSuccess:()=>{N(r.flash.success)}})},L=o=>{window.open("/refugio.edit/"+o)},I=o=>{window.open("/refugios-getPosition.php?id="+o)};function C(){m.value=!1,w.value=!1,n.value=0,M.rows({selected:!0}).every(function(){let o=a.value.indexOf(this.data());o>=0&&(n.value=a.value[o].id,m.value=!0,w.value=Q("eliminar | all | sysop"),console.log(n.value+" "+a.value[o].id," => ",a.value[o].refugio),console.log(a.value[o].refugio))})}const N=o=>{b(),p.value=o,console.log(p.value),_.value="block",setTimeout(()=>{_.value="hidden",p.value=""},4200)},D=o=>{window.open("/ListaRefugios")};var T="Refugios";return(o,l)=>(F(),H(U,null,[t(g(X),{title:"Refugios"}),t(V,null,{header:s(()=>[u(k(g(T)),1)]),default:s(()=>[e("div",Y,[e("div",ee,[t(j,{href:o.route("refugio.create"),titulo:"Nuevo refugio"},{default:s(()=>[t(f,{show:!0,class:"mb-2",type:"default",classBtn:"px-3 py-2 mt-3 text-sm font-medium leading-5 text-white transition-colors duration-150 rojo-morena border border-transparent rounded-lg active:bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:shadow-outline-emerald"},{default:s(()=>[c(o.$slots,"icon",{},()=>[oe])]),_:3})]),_:3},8,["href"]),t(f,{show:$.value,onClick:l[0]||(l[0]=v=>D(v)),title:"Editar refugio",class:"ml-1 mt-1",type:"default",classBtn:"px-3 py-2 mt-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-emerald-600 border border-transparent rounded-lg active:bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:shadow-outline-emerald"},{default:s(()=>[c(o.$slots,"icon",{},()=>[te])]),_:3},8,["show"]),t(f,{show:m.value,onClick:l[1]||(l[1]=v=>L(n.value)),title:"Editar refugio",class:"ml-2 mt-1",type:"default",classBtn:"px-3 py-2 mt-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-purple-600 border border-transparent rounded-lg active:bg-purple-600 hover:bg-purple-700 focus:outline-none focus:shadow-outline-purple"},{default:s(()=>[c(o.$slots,"icon",{},()=>[se])]),_:3},8,["show"]),t(f,{show:m.value,onClick:l[2]||(l[2]=v=>I(n.value)),class:"mb-2",title:"Editar ubicación",type:"default",classBtn:"px-3 py-2 ml-2 mt-3 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-orange-600 border border-transparent rounded-lg active:bg-orange-600 hover:bg-orange-700 focus:outline-none focus:shadow-outline-orange"},{default:s(()=>[c(o.$slots,"icon",{},()=>[ae])]),_:3},8,["show"]),t(f,{show:w.value,onClick:l[3]||(l[3]=v=>A(a.value)),class:"mb-2",title:"Eliminar refugio","class-btn":"px-3 py-2 ml-3 mt-3 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-red-600 border border-transparent rounded-lg active:bg-red-600 hover:bg-red-700 focus:outline-none focus:shadow-outline-red"},{default:s(()=>[le]),_:1},8,["show"])]),t(K,{classMsg:_.value,Msg:p.value,classIcon:"text-green-800"},{default:s(()=>[c(o.$slots,"icon",{},()=>[ie])]),_:3},8,["classMsg","Msg"]),e("div",ne,[e("div",re,[t(g(x),{id:"my-table-id",class:G(["display",a.value.activado?"bg-white-500":""]),columns:R,data:a.value,options:g(E),ref_key:"table",ref:y,onSelect:C,onDeselect:C},{default:s(()=>[de]),_:1},8,["data","options","class"])])])]),t(q,{show:h.value,onClose:b},{default:s(()=>[e("div",ue,[e("p",null,[u(" Quiéres eliminar este refugio "),e("span",ce,k(n.value),1),u(" ? ")])]),e("div",fe,[t(W,{onClick:S},{default:s(()=>[u("Si, eliminalo")]),_:1}),t(J,{onClick:b,class:"ml-4"},{default:s(()=>[u("Cancelar")]),_:1})])]),_:1},8,["show"])]),_:3})],64))}};export{ye as default};
