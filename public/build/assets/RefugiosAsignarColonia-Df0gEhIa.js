import{k as a,T as E,c,a as g,u as H,w as h,F as x,o as f,Z as M,b as C,d as e,i as R,R as F,p as B,t as p,q as N}from"./app-ZHI9JMuZ.js";import{_ as Z}from"./AuthenticatedLayout-Kh0Z_ccT.js";import{_ as O}from"./PrimaryButton-Ct5-wMUW.js";import{_ as $}from"./SelectGroup-CHKqvas_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputError-BLVYMVku.js";const z={class:"grid gap-6 mb-8 md:grid-cols-3"},L={class:"min-w-0 p-4 bg-white rounded-lg shadow-xs dark:bg-gray-800"},T=e("h4",{class:"mb-4 font-semibold text-gray-600 dark:text-gray-300"}," Colonias ",-1),U={class:"text-gray-600 dark:text-gray-400"},q=["value"],I={class:"min-w-0 p-4 text-white text-center bg-white-600 rounded-lg shadow-xs w-full justify-center"},K={class:"mb-4 font-semibold text-white"},Q=e("br",null,null,-1),G=e("br",null,null,-1),J=e("br",null,null,-1),P=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[e("path",{"fill-rule":"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})],-1),W=e("br",null,null,-1),X=e("br",null,null,-1),Y=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[e("path",{"fill-rule":"evenodd",d:"M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z","clip-rule":"evenodd"})],-1),ee={class:"min-w-0 p-4 bg-white rounded-lg shadow-xs dark:bg-gray-800 h-70"},oe=e("h4",{class:"mb-4 font-semibold text-gray-600 dark:text-gray-300"}," Refugios ",-1),te={class:"text-gray-600 dark:text-gray-400"},le=e("br",null,null,-1),se=e("h4",{class:"mb-4 font-semibold text-gray-600 dark:text-gray-300"}," Colonias asignadas a este refugio ",-1),ae={class:"text-gray-600 dark:text-gray-400 h-72"},ie=["value"],fe={__name:"RefugiosAsignarColonia",props:{Colonias:{type:Object},Refugios:{type:Object},flash:{type:Object}},setup(j){const w=a([]),y=a([]),m=a([]),n=a([]),u=a([]),r=a(!1),d=a(!1),_=a(!1),k=j,l=E({id:0,refugio_id:0,colonia_id:0,selected1:[],selected2:[]});k.Colonias.map(t=>w.value.push({id:t.id,text:t.colonia+" "+t.comunidad+" "+t.id})),k.Refugios.map(t=>y.value.push({id:t.id,text:t.refugio+" ("+t.numero+")"}));const S=t=>{r.value=!1,d.value=!1,_.value=!1,parseInt(t.target.value)>0&&(_.value=!0,l.refugio_id=t.target.value,V())};function V(){console.log(l.refugio_id),r.value=!1,d.value=!1,v("getColoniasFromRefugiosAuth")}function A(){r.value=!1,console.log(l.refugio_id),l.selected1=n,console.log(l.selected1),v("addColoniaFromRefugio")}function D(){d.value=!1,console.log(l.refugio_id),l.selected2=u,console.log(l.selected2),v("removeColoniaFromRefugio")}const v=async t=>{try{const s=await N.post(t,l).then(o=>{console.log("Datos recibidos:",o),o.data.mensaje==="OK"&&(m.value=[],o.data.refugio_colonias.map(i=>m.value.push({id:i.id,text:i.colonia})),b())}).catch(o=>{console.log("Error:",o.message)})}catch(s){console.error("Error al obtener los datos: ",s.message)}};function b(){_.value&&(r.value=n.value.length>0,d.value=u.value.length>0)}return(t,s)=>(f(),c(x,null,[g(H(M),{title:"Colonias"}),g(Z,null,{header:h(()=>[C(" Asignar colonias a refugios ")]),default:h(()=>[e("div",z,[e("div",L,[T,e("p",U,[R(e("select",{class:"block w-full mt-1 h-96 text-sm dark:text-white-300 dark:border-white-600 dark:bg-white-700 form-multiselect focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-white",multiple:"",onClick:b,"onUpdate:modelValue":s[0]||(s[0]=o=>n.value=o)},[(f(!0),c(x,null,B(w.value,(o,i)=>(f(),c("option",{key:i,value:o.id},p(o.text),9,q))),128))],512),[[F,n.value]]),e("span",null,"Selected: "+p(n.value),1)])]),e("div",I,[e("h4",K,[C(" Opciones"),Q,G,J,g(O,{show:r.value,onClick:A,type:"default",title:"Asigar al refugio seleccionado","class-btn":"flex-auto text-center px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-blue-600 border border-transparent rounded-lg active:bg-blue-600 hover:bg-blue-700 focus:outline-none focus:shadow-outline-blue"},{default:h(()=>[P]),_:1},8,["show"]),W,X,g(O,{show:d.value,onClick:D,type:"default",title:"Quitar colonia del refugio seleccionado","class-btn":"flex-auto text-center px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-blue-600 border border-transparent rounded-lg active:bg-blue-600 hover:bg-blue-700 focus:outline-none focus:shadow-outline-blue"},{default:h(()=>[Y]),_:1},8,["show"])])]),e("div",ee,[oe,e("p",te,[g($,{opciones:y.value,onChange:s[1]||(s[1]=o=>S(o)),"class-especial":"bg-yellow-50"},null,8,["opciones"])]),le,se,e("p",ae,[R(e("select",{class:"block w-full mt-1 h-72 text-sm dark:text-white-300 dark:border-white-600 dark:bg-white-700 form-multiselect focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-white",multiple:"",onClick:b,"onUpdate:modelValue":s[2]||(s[2]=o=>u.value=o)},[(f(!0),c(x,null,B(m.value,(o,i)=>(f(),c("option",{key:i,value:o.id},p(o.text),9,ie))),128))],512),[[F,u.value]]),e("span",null,"Selected: "+p(u.value),1)])])])]),_:1})],64))}};export{fe as default};
