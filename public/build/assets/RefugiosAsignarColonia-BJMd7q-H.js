import{k as a,T as E,c as g,a as f,u as H,w as p,F as h,o as c,Z as M,b as R,d as o,i as _,R as F,p as B,t as m,q as N}from"./app-zwvvpyM7.js";import{_ as Z}from"./AuthenticatedLayout-B2_LwYve.js";import{_ as O}from"./PrimaryButton-BxUbFck5.js";import{_ as $}from"./SelectGroup-BAD1l6BU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputError-DpfOrJCm.js";const z={class:"grid gap-6 mb-8 md:grid-cols-3"},L={class:"min-w-0 p-4 bg-white rounded-lg shadow-xs dark:bg-gray-800"},T={class:"text-gray-600 dark:text-gray-400"},U=["value"],q={class:"min-w-0 p-4 text-white text-center bg-white-600 rounded-lg shadow-xs w-full justify-center"},I={class:"mb-4 font-semibold text-white"},K={class:"min-w-0 p-4 bg-white rounded-lg shadow-xs dark:bg-gray-800 h-70"},Q={class:"text-gray-600 dark:text-gray-400"},G={class:"text-gray-600 dark:text-gray-400 h-72"},J=["value"],le={__name:"RefugiosAsignarColonia",props:{Colonias:{type:Object},Refugios:{type:Object},flash:{type:Object}},setup(j){const y=a([]),k=a([]),v=a([]),n=a([]),u=a([]),r=a(!1),d=a(!1),b=a(!1),C=j,s=E({id:0,refugio_id:0,colonia_id:0,selected1:[],selected2:[]});C.Colonias.map(t=>y.value.push({id:t.id,text:t.colonia+" "+t.comunidad+" "+t.id})),C.Refugios.map(t=>k.value.push({id:t.id,text:t.refugio+" ("+t.numero+")"}));const S=t=>{r.value=!1,d.value=!1,b.value=!1,parseInt(t.target.value)>0&&(b.value=!0,s.refugio_id=t.target.value,V())};function V(){console.log(s.refugio_id),r.value=!1,d.value=!1,x("getColoniasFromRefugiosAuth")}function A(){r.value=!1,console.log(s.refugio_id),s.selected1=n,console.log(s.selected1),x("addColoniaFromRefugio")}function D(){d.value=!1,console.log(s.refugio_id),s.selected2=u,console.log(s.selected2),x("removeColoniaFromRefugio")}const x=async t=>{try{const e=await N.post(t,s).then(l=>{console.log("Datos recibidos:",l),l.data.mensaje==="OK"&&(v.value=[],l.data.refugio_colonias.map(i=>v.value.push({id:i.id,text:i.colonia})),w())}).catch(l=>{console.log("Error:",l.message)})}catch(e){console.error("Error al obtener los datos: ",e.message)}};function w(){b.value&&(r.value=n.value.length>0,d.value=u.value.length>0)}return(t,e)=>(c(),g(h,null,[f(H(M),{title:"Colonias"}),f(Z,null,{header:p(()=>e[3]||(e[3]=[R(" Asignar colonias a refugios ")])),default:p(()=>[o("div",z,[o("div",L,[e[4]||(e[4]=o("h4",{class:"mb-4 font-semibold text-gray-600 dark:text-gray-300"}," Colonias ",-1)),o("p",T,[_(o("select",{class:"block w-full mt-1 h-96 text-sm dark:text-white-300 dark:border-white-600 dark:bg-white-700 form-multiselect focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-white",multiple:"",onClick:w,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l)},[(c(!0),g(h,null,B(y.value,(l,i)=>(c(),g("option",{key:i,value:l.id},m(l.text),9,U))),128))],512),[[F,n.value]]),o("span",null,"Selected: "+m(n.value),1)])]),o("div",q,[o("h4",I,[e[7]||(e[7]=R(" Opciones")),e[8]||(e[8]=o("br",null,null,-1)),e[9]||(e[9]=o("br",null,null,-1)),e[10]||(e[10]=o("br",null,null,-1)),f(O,{show:r.value,onClick:A,type:"default",title:"Asigar al refugio seleccionado","class-btn":"flex-auto text-center px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-blue-600 border border-transparent rounded-lg active:bg-blue-600 hover:bg-blue-700 focus:outline-none focus:shadow-outline-blue"},{default:p(()=>e[5]||(e[5]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[o("path",{"fill-rule":"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})],-1)])),_:1},8,["show"]),e[11]||(e[11]=o("br",null,null,-1)),e[12]||(e[12]=o("br",null,null,-1)),f(O,{show:d.value,onClick:D,type:"default",title:"Quitar colonia del refugio seleccionado","class-btn":"flex-auto text-center px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-blue-600 border border-transparent rounded-lg active:bg-blue-600 hover:bg-blue-700 focus:outline-none focus:shadow-outline-blue"},{default:p(()=>e[6]||(e[6]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[o("path",{"fill-rule":"evenodd",d:"M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z","clip-rule":"evenodd"})],-1)])),_:1},8,["show"])])]),o("div",K,[e[13]||(e[13]=o("h4",{class:"mb-4 font-semibold text-gray-600 dark:text-gray-300"}," Refugios ",-1)),o("p",Q,[f($,{opciones:k.value,onChange:e[1]||(e[1]=l=>S(l)),"class-especial":"bg-yellow-50"},null,8,["opciones"])]),e[14]||(e[14]=o("br",null,null,-1)),e[15]||(e[15]=o("h4",{class:"mb-4 font-semibold text-gray-600 dark:text-gray-300"}," Colonias asignadas a este refugio ",-1)),o("p",G,[_(o("select",{class:"block w-full mt-1 h-72 text-sm dark:text-white-300 dark:border-white-600 dark:bg-white-700 form-multiselect focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-white",multiple:"",onClick:w,"onUpdate:modelValue":e[2]||(e[2]=l=>u.value=l)},[(c(!0),g(h,null,B(v.value,(l,i)=>(c(),g("option",{key:i,value:l.id},m(l.text),9,J))),128))],512),[[F,u.value]]),o("span",null,"Selected: "+m(u.value),1)])])])]),_:1})],64))}};export{le as default};
