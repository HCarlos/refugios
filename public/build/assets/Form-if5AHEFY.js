import{k as m,s as j,o as w,c as h,d as t,t as x,u as o,n as $,r as B,a as i,F as b,x as I,T as L,w as n,f as O,e as C,i as z,y as E,b as S}from"./app-BOcYMZOQ.js";import{_ as Z}from"./PrimaryButton-BYOdbEyx.js";import{_ as U}from"./InputError-BDhvW8qm.js";import{_ as T}from"./AlertSuccess-C6ii2i1X.js";const H={class:"block text-sm"},N={class:"text-gray-700 dark:text-gray-400"},G={class:"relative text-gray-500 focus-within:text-gray-700 gray:focus-within:text-gray-700"},q=["value","type","required","placeholder","accept","pattern","name","id","src"],F={class:"absolute inset-y-0 flex items-center ml-2 pointer-events-none"},D={class:"text-muted text-xs text-gray-400"},d={__name:"InputGroup",props:["textLabel","text","placeholder","accept","required","type","modelValue","change","errors","disabledInput","pattern","classEspecial","mensajeMiniatura","nameObject","src"],emits:["update:modelValue","change"],setup(a){const l=a,e=l.textLabel==null?"":l.textLabel,f=l.disabledInput!=null,c=m(null);return j(()=>{c.value.hasAttribute("autofocus")&&c.value.focus()}),(g,v)=>(w(),h(b,null,[t("label",H,[t("span",N,x(o(e)),1),t("div",G,[t("input",{class:$(["block w-full pl-10 mt-1 text-sm cols-1 text-dark text-dark-100 border-gray-700 bg-gray-50 focus:border-gray-700 focus:outline-none focus:shadow-outline-gray gray:focus:shadow-outline-gray form-input rounded-md",a.classEspecial]),value:a.modelValue,type:a.type,required:a.required,placeholder:a.placeholder,accept:a.accept,disabled:f,pattern:a.pattern,onInput:v[0]||(v[0]=p=>g.$emit("update:modelValue",p.target.value)),onChange:v[1]||(v[1]=p=>g.$emit("change",p)),ref_key:"input",ref:c,name:a.nameObject,id:a.nameObject,src:a.src},null,42,q),t("div",F,[B(g.$slots,"default")])])]),t("small",D,x(a.mensajeMiniatura),1),i(U,{class:"mt-1",message:a.errors},null,8,["message"])],64))}},P={class:"block text-sm"},J={class:"text-gray-700 dark:text-gray-400"},K={class:"relative text-gray-500 focus-within:text-gray-700 gray:focus-within:text-gray-700"},Q=["value"],W=["selected"],X=["value"],Y=t("div",{class:"absolute inset-y-0 flex items-center ml-2 pointer-events-none"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[t("path",{d:"M5.625 3.75a2.625 2.625 0 1 0 0 5.25h12.75a2.625 2.625 0 0 0 0-5.25H5.625ZM3.75 11.25a.75.75 0 0 0 0 1.5h16.5a.75.75 0 0 0 0-1.5H3.75ZM3 15.75a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75ZM3.75 18.75a.75.75 0 0 0 0 1.5h16.5a.75.75 0 0 0 0-1.5H3.75Z"})])],-1),V={__name:"SelectGroup",props:["textLabel","opciones","modelValue","isLegend","errors","classEspecial"],emits:["update:modelValue"],setup(a){const l=a,e=l.textLabel==null?"":l.textLabel,f=l.isLegend!=null,c=m(null);return j(()=>{c.value.hasAttribute("autofocus")&&c.value.focus(),f||(c.selected=!0)}),(g,v)=>(w(),h(b,null,[t("label",P,[t("span",J,x(o(e)),1),t("div",K,[t("select",{class:$(["block w-full pl-10 mt-1 text-sm cols-1 text-dark text-dark-100 border-gray-700 bg-gray-50 focus:border-gray-700 focus:outline-none focus:shadow-outline-gray gray:focus:shadow-outline-gray form-input rounded-md",a.classEspecial]),value:a.modelValue,onInput:v[0]||(v[0]=p=>g.$emit("update:modelValue",p.target.value)),ref_key:"input",ref:c},[t("option",{value:"-1",selected:g.selected},"Selecciona una opción",8,W),(w(!0),h(b,null,I(a.opciones,p=>(w(),h("option",{value:p.id},x(p.text),9,X))),256))],42,Q),Y])]),i(U,{class:"mt-1",message:a.errors},null,8,["message"])],64))}},ee=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[t("path",{"fill-rule":"evenodd",d:"M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"}),t("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"})],-1),oe={class:"grid gap-6 bg-white mb-8 md:grid-cols-2 border rounded-lg"},te={class:"min-w-0 p-4 rounded-lg shadow-xs"},le=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5-3.9 19.5m-2.1-19.5-3.9 19.5"})],-1),se=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205 3 1m1.5.5-1.5-.5M6.75 7.364V3h-3v18m3-13.636 10.5-3.819"})],-1),re=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})],-1),ae=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})],-1),ie=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),ne=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),ue=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),de=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),ce=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),me=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),ge=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),pe=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1),fe=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[t("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z","clip-rule":"evenodd"})],-1),ve=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[t("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z","clip-rule":"evenodd"})],-1),we={class:"min-w-0 p-4 rounded-lg shadow-xs"},he=["src"],Ve={__name:"Form",props:{Refugio:{type:Object},Rutas:{type:Object},Ruta:{type:String},flash:{type:Object}},setup(a){const l=a,e=L({id:0,numero:"",refugio:"",ubicacion:"",ubicacion_google:"",enlace:"",telefonos:"",observaciones:"",latitud:"",longitud:"",html:"",infraestructura:"",activado:"0",poligono:"",categoria:"REFUGIO",capacidad:0,imagen:"",refugiorutaid:-1}),f=m("../storage/externo/1.gif"),c=m(""),g=m("hidden"),v=m("/^(+|-)?(?:90(?:(?:.0{1,6})?)|(?:[0-9]|[1-8][0-9])(?:(?:.[0-9]{1,6})?))$/"),p=m("/^(+|-)?(?:180(?:(?:.0{1,6})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:.[0-9]{1,6})?))$/");console.log(l.Refugio),l.Refugio!=="undefined"&&l.Refugio!=null&&(e.id=l.Refugio.id,e.numero=l.Refugio.numero,e.refugio=l.Refugio.refugio,e.ubicacion=l.Refugio.ubicacion,e.ubicacion_google=l.Refugio.ubicacion_google,e.enlace=l.Refugio.enlace,e.telefonos=l.Refugio.telefonos,e.observaciones=l.Refugio.observaciones,e.latitud=l.Refugio.latitud,e.longitud=l.Refugio.longitud,e.html=l.Refugio.html,e.infraestructura=l.Refugio.infraestructura,e.activado=l.Refugio.activado,e.poligono=l.Refugio.poligono,e.categoria=l.Refugio.categoria,e.capacidad=l.Refugio.capacidad,e.refugiorutaid=l.Refugio.refugiorutaid,f.value="../storage/externo/"+l.Refugio.imagen,e.imagen=f.value);const R=m([]),k=m([]),y=m([]);l.Rutas.map(u=>R.value.push({id:u.id,text:u.ruta})),k.value.push({id:"REFUGIO",text:"REFUGIO"}),k.value.push({id:"CENTRO DE ACOPIO",text:"CENTRO DE ACOPIO"}),y.value.push({id:1,text:"SI"}),y.value.push({id:0,text:"NO"}),m(l.Refugio==null?"Nuevo Refugio":"Editando el refugio");const A=()=>{l.Refugio==null?e.post(route("refugio.save"),{onSuccess:()=>{_(l.flash.success)},onError:u=>{console.log(u),e.errors=u}}):e.post(route("refugio.update"),{onSuccess:()=>{_(l.flash.success)},onError:u=>{e.errors=u,console.log(u)}})},_=u=>{e.reset(),c.value=u,g.value="block",setTimeout(()=>{g.value="hidden",c.value=""},800)};console.log(l.Refugio);const M=u=>{e.imagen=u.target.files[0],f.value=URL.createObjectURL(u.target.files[0]),console.log(f.value)};return(u,s)=>(w(),h(b,null,[i(T,{"class-msg":g.value,msg:c.value},{default:n(()=>[ee]),_:1},8,["class-msg","msg"]),t("div",oe,[t("div",te,[t("form",{class:"form-horizontal",onSubmit:O(A,["prevent"]),enctype:"multipart/form-data"},[i(d,{modelValue:o(e).numero,"onUpdate:modelValue":s[0]||(s[0]=r=>o(e).numero=r),modelModifiers:{number:!0},placeholder:"Número",errors:o(e).errors.numero,classEspecial:"em9",type:"number","class-especial":"em15 bg-yellow-50 border-gray-700"},{default:n(()=>[le]),_:1},8,["modelValue","errors"]),i(d,{modelValue:o(e).refugio,"onUpdate:modelValue":s[1]||(s[1]=r=>o(e).refugio=r),errors:o(e).errors.refugio,placeholder:"Refugio",type:"text","class-especial":"bg-yellow-50"},{default:n(()=>[se]),_:1},8,["modelValue","errors"]),i(d,{modelValue:o(e).ubicacion,"onUpdate:modelValue":s[2]||(s[2]=r=>o(e).ubicacion=r),placeholder:"Ubicación",type:"text",errors:o(e).errors.ubicacion,"class-especial":"bg-yellow-50"},{default:n(()=>[re]),_:1},8,["modelValue","errors"]),i(d,{modelValue:o(e).ubicacion_google,"onUpdate:modelValue":s[3]||(s[3]=r=>o(e).ubicacion_google=r),errors:o(e).errors.ubicacion_google,placeholder:"Ubicación Google",type:"text",disabledInput:"disabled"},{default:n(()=>[ae]),_:1},8,["modelValue","errors"]),i(V,{opciones:R.value,modelValue:o(e).refugiorutaid,"onUpdate:modelValue":s[4]||(s[4]=r=>o(e).refugiorutaid=r),errors:o(e).errors.refugiorutaid,"class-especial":"em15 bg-yellow-50"},null,8,["opciones","modelValue","errors"]),i(d,{modelValue:o(e).capacidad,"onUpdate:modelValue":s[5]||(s[5]=r=>o(e).capacidad=r),errors:o(e).errors.capacidad,placeholder:"Capacidad",type:"text","class-especial":"em15 bg-yellow-50"},{default:n(()=>[ie]),_:1},8,["modelValue","errors"]),i(d,{modelValue:o(e).infraestructura,"onUpdate:modelValue":s[6]||(s[6]=r=>o(e).infraestructura=r),errors:o(e).errors.infraestructura,placeholder:"Infraestructura",type:"text"},{default:n(()=>[ne]),_:1},8,["modelValue","errors"]),i(d,{modelValue:o(e).enlace,"onUpdate:modelValue":s[7]||(s[7]=r=>o(e).enlace=r),errors:o(e).errors.enlace,placeholder:"Enlace",type:"text"},{default:n(()=>[ue]),_:1},8,["modelValue","errors"]),i(d,{modelValue:o(e).telefonos,"onUpdate:modelValue":s[8]||(s[8]=r=>o(e).telefonos=r),errors:o(e).errors.telefonos,placeholder:"Teléfonos",type:"text"},{default:n(()=>[de]),_:1},8,["modelValue","errors"]),i(V,{opciones:k.value,modelValue:o(e).categoria,"onUpdate:modelValue":s[9]||(s[9]=r=>o(e).categoria=r),errors:o(e).errors.categoria,"class-especial":"em15 bg-yellow-50"},null,8,["opciones","modelValue","errors"]),i(V,{opciones:y.value,modelValue:o(e).activado,"onUpdate:modelValue":s[10]||(s[10]=r=>o(e).activado=r),errors:o(e).errors.activado,"class-especial":"em15 bg-yellow-50"},null,8,["opciones","modelValue","errors"]),i(d,{modelValue:o(e).latitud,"onUpdate:modelValue":s[11]||(s[11]=r=>o(e).latitud=r),errors:o(e).errors.latitud,placeholder:"Latitud",type:"text",pattern:v.value,"class-especial":"em15 bg-yellow-50"},{default:n(()=>[ce]),_:1},8,["modelValue","errors","pattern"]),i(d,{modelValue:o(e).longitud,"onUpdate:modelValue":s[12]||(s[12]=r=>o(e).longitud=r),errors:o(e).errors.longitud,placeholder:"Longitud",type:"text",pattern:p.value,"class-especial":"em15 bg-yellow-50"},{default:n(()=>[me]),_:1},8,["modelValue","errors","pattern"]),i(d,{modelValue:o(e).poligono,"onUpdate:modelValue":s[13]||(s[13]=r=>o(e).poligono=r),errors:o(e).errors.poligono,placeholder:"Polígono",type:"text"},{default:n(()=>[ge]),_:1},8,["modelValue","errors"]),i(d,{modelValue:o(e).observaciones,"onUpdate:modelValue":s[14]||(s[14]=r=>o(e).observaciones=r),errors:o(e).errors.observaciones,placeholder:"Observaciones",type:"text"},{default:n(()=>[pe]),_:1},8,["modelValue","errors"]),l.Refugio==null?(w(),C(d,{key:0,onChange:s[15]||(s[15]=r=>M(r)),errors:o(e).errors.imagen,type:"file",accept:"image/*",required:"'required'"},{default:n(()=>[fe]),_:1},8,["errors"])):(w(),C(d,{key:1,onChange:M,errors:o(e).errors.imagen,type:"file",accept:"image/*",placeholder:o(e).imagen,mensajeMiniatura:o(e).imagen,nameObject:"srcImgID",src:"srcImg"},{default:n(()=>[ve]),_:1},8,["errors","placeholder","mensajeMiniatura"])),z(t("input",{type:"hidden","onUpdate:modelValue":s[16]||(s[16]=r=>o(e).id=r),value:"{{form.id}}"},null,512),[[E,o(e).id]]),i(Z,{class:"mt-4 float-right"},{default:n(()=>[S(" Guardar ")]),_:1})],32)]),t("div",we,[t("img",{src:f.value,width:"500",alt:""},null,8,he)])])],64))}};export{Ve as default};
