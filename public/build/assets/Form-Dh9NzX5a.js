import{T as y,k as d,c as M,a as i,w as a,d as l,f as C,u as r,e as b,i as U,l as j,F as A,o as w,b as B}from"./app-zwvvpyM7.js";import{_ as u}from"./InputGroup-BrTCkDn9.js";import{_ as v}from"./SelectGroup-BAD1l6BU.js";import{_ as z}from"./AlertSuccess-Dm_4B8tB.js";import{_ as O}from"./AceptarButton-DWiT6QMZ.js";import"./InputError-DpfOrJCm.js";const E={class:"grid gap-6 bg-white mb-8 md:grid-cols-2 border rounded-lg"},I={class:"min-w-0 p-4 rounded-lg shadow-xs"},S={class:"min-w-0 p-4 rounded-lg shadow-xs"},Z=["src"],D={__name:"Form",props:{Refugio:{type:Object},Rutas:{type:Object},Ruta:{type:String},flash:{type:Object}},setup(R){const t=R,e=y({id:0,numero:"",refugio:"",ubicacion:"",ubicacion_google:"",enlace:"",telefonos:"",observaciones:"",latitud:"",longitud:"",html:"",infraestructura:"",activado:0,poligono:"",categoria:"REFUGIO",capacidad:0,imagen:"",refugiorutaid:-1}),m=d("../storage/externo/1.gif"),g=d(""),p=d("hidden");d("^(\\+|-)?(?:90(?:(?:\\.0{1,16})?)|(?:[0-9]|[1-8][0-9])(?:(?:\\.[0-9]{1,16})?))$"),d("^(\\-|-)?(?:180(?:(?:\\.0{1,16})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\\.[0-9]{1,16})?))$"),console.log(t.Refugio),t.Refugio!=="undefined"&&t.Refugio!=null&&(e.id=t.Refugio.id,e.numero=t.Refugio.numero,e.refugio=t.Refugio.refugio,e.ubicacion=t.Refugio.ubicacion,e.ubicacion_google=t.Refugio.ubicacion_google,e.enlace=t.Refugio.enlace,e.telefonos=t.Refugio.telefonos,e.observaciones=t.Refugio.observaciones,e.latitud=t.Refugio.latitud,e.longitud=t.Refugio.longitud,e.html=t.Refugio.html,e.infraestructura=t.Refugio.infraestructura,e.activado=t.Refugio.activado?1:0,e.poligono=t.Refugio.poligono,e.categoria=t.Refugio.categoria,e.capacidad=t.Refugio.capacidad,e.refugiorutaid=t.Refugio.refugiorutaid,m.value="../storage/externo/"+t.Refugio.imagen,e.imagen=m.value);const V=d([]),f=d([]),c=d([]);t.Rutas.map(n=>V.value.push({id:n.id,text:n.ruta})),f.value.push({id:"REFUGIO",text:"REFUGIO"}),f.value.push({id:"CENTRO DE ACOPIO",text:"CENTRO DE ACOPIO"}),c.value.push({id:1,text:"SI"}),c.value.push({id:0,text:"NO"}),d(t.Refugio==null?"Nuevo Refugio":"Editando el refugio");const h=()=>{t.Refugio==null?e.post(route("refugio.save"),{onSuccess:()=>{k(t.flash.success)},onError:n=>{console.log(n),e.errors=n}}):e.post(route("refugio.update"),{onSuccess:()=>{k(t.flash.success)},onError:n=>{e.errors=n,console.log(n)}})},k=n=>{e.reset(),g.value=n,p.value="block",setTimeout(()=>{p.value="hidden",g.value=""},800)};console.log(t.Refugio);const x=n=>{e.imagen=n.target.files[0],m.value=URL.createObjectURL(n.target.files[0]),console.log(m.value)};return(n,o)=>(w(),M(A,null,[i(z,{"class-msg":p.value,msg:g.value},{default:a(()=>o[18]||(o[18]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[l("path",{"fill-rule":"evenodd",d:"M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"}),l("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"})],-1)])),_:1},8,["class-msg","msg"]),l("div",E,[l("div",I,[l("form",{class:"form-horizontal",onSubmit:C(h,["prevent"]),enctype:"multipart/form-data"},[i(u,{modelValue:r(e).numero,"onUpdate:modelValue":o[0]||(o[0]=s=>r(e).numero=s),modelModifiers:{number:!0},placeholder:"Número",errors:r(e).errors.numero,classEspecial:"em9",type:"number","class-especial":"em15 bg-yellow-50 border-gray-700"},{default:a(()=>o[19]||(o[19]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5-3.9 19.5m-2.1-19.5-3.9 19.5"})],-1)])),_:1},8,["modelValue","errors"]),i(u,{modelValue:r(e).refugio,"onUpdate:modelValue":o[1]||(o[1]=s=>r(e).refugio=s),errors:r(e).errors.refugio,placeholder:"Refugio",type:"text","class-especial":"bg-yellow-50"},{default:a(()=>o[20]||(o[20]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205 3 1m1.5.5-1.5-.5M6.75 7.364V3h-3v18m3-13.636 10.5-3.819"})],-1)])),_:1},8,["modelValue","errors"]),i(u,{modelValue:r(e).ubicacion,"onUpdate:modelValue":o[2]||(o[2]=s=>r(e).ubicacion=s),placeholder:"Ubicación",type:"text",errors:r(e).errors.ubicacion,"class-especial":"bg-yellow-50"},{default:a(()=>o[21]||(o[21]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})],-1)])),_:1},8,["modelValue","errors"]),i(u,{modelValue:r(e).ubicacion_google,"onUpdate:modelValue":o[3]||(o[3]=s=>r(e).ubicacion_google=s),errors:r(e).errors.ubicacion_google,placeholder:"Ubicación Google",type:"text",disabledInput:"disabled"},{default:a(()=>o[22]||(o[22]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})],-1)])),_:1},8,["modelValue","errors"]),i(v,{opciones:V.value,modelValue:r(e).refugiorutaid,"onUpdate:modelValue":o[4]||(o[4]=s=>r(e).refugiorutaid=s),errors:r(e).errors.refugiorutaid,"class-especial":"em15 bg-yellow-50"},null,8,["opciones","modelValue","errors"]),i(u,{modelValue:r(e).capacidad,"onUpdate:modelValue":o[5]||(o[5]=s=>r(e).capacidad=s),errors:r(e).errors.capacidad,placeholder:"Capacidad",type:"text","class-especial":"em15 bg-yellow-50"},{default:a(()=>o[23]||(o[23]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1)])),_:1},8,["modelValue","errors"]),i(u,{modelValue:r(e).infraestructura,"onUpdate:modelValue":o[6]||(o[6]=s=>r(e).infraestructura=s),errors:r(e).errors.infraestructura,placeholder:"Infraestructura",type:"text"},{default:a(()=>o[24]||(o[24]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1)])),_:1},8,["modelValue","errors"]),i(u,{modelValue:r(e).enlace,"onUpdate:modelValue":o[7]||(o[7]=s=>r(e).enlace=s),errors:r(e).errors.enlace,placeholder:"Enlace",type:"text"},{default:a(()=>o[25]||(o[25]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1)])),_:1},8,["modelValue","errors"]),i(u,{modelValue:r(e).telefonos,"onUpdate:modelValue":o[8]||(o[8]=s=>r(e).telefonos=s),errors:r(e).errors.telefonos,placeholder:"Teléfonos",type:"text"},{default:a(()=>o[26]||(o[26]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1)])),_:1},8,["modelValue","errors"]),i(v,{opciones:f.value,modelValue:r(e).categoria,"onUpdate:modelValue":o[9]||(o[9]=s=>r(e).categoria=s),errors:r(e).errors.categoria,"class-especial":"em15 bg-yellow-50"},null,8,["opciones","modelValue","errors"]),i(v,{opciones:c.value,modelValue:r(e).activado,"onUpdate:modelValue":o[10]||(o[10]=s=>r(e).activado=s),errors:r(e).errors.activado,"class-especial":"em15 bg-yellow-50"},null,8,["opciones","modelValue","errors"]),i(u,{modelValue:r(e).latitud,"onUpdate:modelValue":o[11]||(o[11]=s=>r(e).latitud=s),errors:r(e).errors.latitud,placeholder:"Latitud",type:"text","class-especial":"em15 bg-yellow-50"},{default:a(()=>o[27]||(o[27]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1)])),_:1},8,["modelValue","errors"]),i(u,{modelValue:r(e).longitud,"onUpdate:modelValue":o[12]||(o[12]=s=>r(e).longitud=s),errors:r(e).errors.longitud,placeholder:"Longitud",type:"text","class-especial":"em15 bg-yellow-50"},{default:a(()=>o[28]||(o[28]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1)])),_:1},8,["modelValue","errors"]),i(u,{modelValue:r(e).poligono,"onUpdate:modelValue":o[13]||(o[13]=s=>r(e).poligono=s),errors:r(e).errors.poligono,placeholder:"Polígono",type:"text"},{default:a(()=>o[29]||(o[29]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1)])),_:1},8,["modelValue","errors"]),i(u,{modelValue:r(e).observaciones,"onUpdate:modelValue":o[14]||(o[14]=s=>r(e).observaciones=s),errors:r(e).errors.observaciones,placeholder:"Observaciones",type:"text"},{default:a(()=>o[30]||(o[30]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1)])),_:1},8,["modelValue","errors"]),t.Refugio==null?(w(),b(u,{key:0,onChange:o[15]||(o[15]=s=>x(s)),errors:r(e).errors.imagen,type:"file",accept:"image/*",required:"'required'"},{default:a(()=>o[31]||(o[31]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[l("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z","clip-rule":"evenodd"})],-1)])),_:1},8,["errors"])):(w(),b(u,{key:1,onChange:o[16]||(o[16]=s=>x(s)),errors:r(e).errors.imagen,type:"file",accept:"image/*",placeholder:r(e).imagen,mensajeMiniatura:r(e).imagen,nameObject:"srcImgID",src:"srcImg"},{default:a(()=>o[32]||(o[32]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[l("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z","clip-rule":"evenodd"})],-1)])),_:1},8,["errors","placeholder","mensajeMiniatura"])),U(l("input",{type:"hidden","onUpdate:modelValue":o[17]||(o[17]=s=>r(e).id=s),value:"{{form.id}}"},null,512),[[j,r(e).id]]),i(O,{class:"mt-4 float-right"},{default:a(()=>o[33]||(o[33]=[B(" Guardar ")])),_:1})],32)]),l("div",S,[l("img",{src:m.value,width:"500",alt:""},null,8,Z)])])],64))}};export{D as default};
